IAF_net:
    format: ModECI MDF v0.4
    generating_application: Python modeci-mdf v0.4.4
    graphs:
        iaf_example:
            nodes:
                input_node:
                    parameters:
                        time:
                            default_initial_value: 0
                            time_derivative: '1'
                        start:
                            value: 20
                        duration:
                            value: 60
                        amplitude:
                            value:
                            - 4.171318573558529
                            - 3.604099604234099
                            - 6.6532604865810585
                            - 12.655231000693323
                            - 17.103856110270257
                            - 9.87642920939857
                            - 17.00454093845209
                            - 5.92299677192047
                        level:
                            value: 0
                            conditions:
                            -   id: 'on'
                                test: time > start and time < start + duration
                                value: amplitude
                            -   id: 'off'
                                test: time > start + duration
                                value: amplitude*0
                    output_ports:
                        out_port:
                            value: level
                iaf_node:
                    input_ports:
                        input: {}
                    parameters:
                        v0:
                            value:
                            - -56.305663213220306
                            - -68.56066920209935
                            - -51.742845641558425
                            - -64.36474355945276
                            - -66.7586156757788
                            - -59.38506756066541
                            - -51.505208328310495
                            - -65.76553679278662
                        erev:
                            value:
                            - -70.0
                            - -70.0
                            - -70.0
                            - -70.0
                            - -70.0
                            - -70.0
                            - -70.0
                            - -70.0
                        tau:
                            value: 10.0
                        thresh:
                            value:
                            - -20.0
                            - -20.0
                            - -20.0
                            - -20.0
                            - -20.0
                            - -20.0
                            - -20.0
                            - -20.0
                        v:
                            default_initial_value: v0
                            time_derivative: -1 * (v-erev)/tau + input
                            conditions:
                            -   id: reset
                                test: v > thresh
                                value: erev
                    output_ports:
                        out_port:
                            value: v
            edges:
                input_edge:
                    sender: input_node
                    receiver: iaf_node
                    sender_port: out_port
                    receiver_port: input
                    parameters:
                        weight: 1
